import {useStore} from "@nanostores/react";import {$showTidligere} from "@src/store/store.ts";import useSWRImmutable from "swr/immutable";import type {Varsel, VarselResponse} from "@src/types/Varsel.ts";import {aktiveVarslerUrl} from "@src/utils/client/urls.ts";import {fetcher} from "@src/utils/client/fetcher.ts";import styles from "./VarselView.module.css"import {NyeView} from "@components/VarselView/NyeView/NyeView.tsx";import {TidligereView} from "@components/VarselView/TidligereView/TidligereView.tsx";import {NoVarselMessage} from "@components/VarselView/NoVarselMessage/NoVarselMessage.tsx";const checkForEmptyView = (aktive: {    beskjeder: Varsel[],    oppgaver: Varsel[]}, inAktive: Varsel[], showInaktive: boolean) =>    ((aktive.beskjeder.length === 0 && aktive.oppgaver.length === 0 && !showInaktive) || (inAktive.length === 0 && showInaktive))export const VarselView = () => {    const {data: varselResponse, isLoading} = useSWRImmutable<VarselResponse>(aktiveVarslerUrl, fetcher)    const isTidligereView: boolean = useStore($showTidligere)    if (!varselResponse || isLoading) {        return "Loading..."    }    return <div className={styles.backgroundWrapper}>        {            checkForEmptyView(varselResponse.aktive, varselResponse.inaktive, isTidligereView) ?                <NoVarselMessage/> :                <div className={styles.varselViewContainer}>                    {isTidligereView ? <TidligereView varsler={varselResponse.inaktive}/> :                        <NyeView beskjeder={varselResponse.aktive.beskjeder}                                 oppgaver={varselResponse.aktive.oppgaver}/>}                </div>        }    </div>}